{"ast":null,"code":"// import axios from \"axios\";\nexport default {\n  data: () => ({\n    file: null,\n    fileName: \"\"\n  }),\n  props: {\n    afterSubmit: {\n      type: Function,\n      default: () => {}\n    }\n  },\n  methods: {\n    handleCSVChange() {\n      this.fileName = this.$refs.inputCSV.files[0].name;\n      this.file = this.$refs.inputCSV.files[0];\n    },\n\n    submitFile() {\n      const formData = new FormData();\n      formData.append(\"file\", this.file);\n      const headers = {\n        \"Content-Type\": \"multipart/form-data\",\n        Authorization: `Bearer ${localStorage.getItem(\"userToken\")}`\n      }; // axios\n      //   .post(\"http://localhost:8081/api/csv/upload\", formData, { headers })\n      //   .then((res) => {\n      //     res.data.files;\n      //     res.status;\n      //     if (res.status === 200) {\n      //       alert(`O arquivo ${this.fileName} foi enviado com sucesso`);\n      //       this.afterSubmit();\n      //     } else {\n      //       alert(`Deu erro`);\n      //     }\n      //   });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA2CA;AAEA,eAAe;EACbA,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE,IAAR;IAAcC,QAAQ,EAAE;EAAxB,CAAP,CADO;EAGbC,KAAK,EAAE;IACLC,WAAW,EAAE;MACXC,IAAI,EAAEC,QADK;MAEXC,OAAO,EAAE,MAAM,CAAC;IAFL;EADR,CAHM;EAUbC,OAAO,EAAE;IACPC,eAAe,GAAG;MAChB,KAAKP,QAAL,GAAgB,KAAKQ,KAAL,CAAWC,QAAX,CAAoBC,KAApB,CAA0B,CAA1B,EAA6BC,IAA7C;MACA,KAAKZ,IAAL,GAAY,KAAKS,KAAL,CAAWC,QAAX,CAAoBC,KAApB,CAA0B,CAA1B,CAAZ;IACD,CAJM;;IAMPE,UAAU,GAAG;MACX,MAAMC,QAAO,GAAI,IAAIC,QAAJ,EAAjB;MAEAD,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwB,KAAKhB,IAA7B;MAEA,MAAMiB,OAAM,GAAI;QACd,gBAAgB,qBADF;QAEdC,aAAa,EAAG,UAASC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAkC;MAF7C,CAAhB,CALW,CAUX;MACA;MACA;MACA;MACA;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;IACD;;EA7BM;AAVI,CAAf","names":["data","file","fileName","props","afterSubmit","type","Function","default","methods","handleCSVChange","$refs","inputCSV","files","name","submitFile","formData","FormData","append","headers","Authorization","localStorage","getItem"],"sourceRoot":"","sources":["C:\\Users\\helen\\OneDrive\\Área de Trabalho\\api-5\\Front-end\\Persuance\\src\\components\\CSVInput.vue"],"sourcesContent":["<template>\r\n  <div class=\"flex justify-center\">\r\n    <div :class=\"fileName ? 'file is-centered is-boxed is-success has-name' : 'file is-centered is-boxed is-success'\">\r\n      <label class=\"file-label\">\r\n        <input class=\"file-input\" type=\"file\" name=\"resume\" ref=\"inputCSV\" @change=\"handleCSVChange\" />\r\n        <span class=\"file-cta\">\r\n          <span class=\"file-icon\">\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              stroke=\"currentColor\"\r\n              stroke-width=\"2\"\r\n            >\r\n              <path\r\n                stroke-linecap=\"round\"\r\n                stroke-linejoin=\"round\"\r\n                d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12\"\r\n              />\r\n            </svg>\r\n          </span>\r\n          <span class=\"file-label\">Informe o CSV</span>\r\n        </span>\r\n        <span class=\"file-name\" v-if=\"fileName\"> {{ fileName }} </span>\r\n      </label>\r\n    </div>\r\n    <Button :disabled=\"!fileName\" class=\"button is-success is-outlined is-small\" style=\"width: 100%; margin-top: 10px\" @click=\"submitFile\">{{fileName ? 'Enviar' : 'arquivo não informado'}}</Button>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.file-label .file-name {\r\n  border-color: #48c78e;\r\n  color: #48c78e;\r\n}\r\n\r\n.file-label:hover .file-name {\r\n  border-color: white;\r\n  color: white;\r\n}\r\n</style>\r\n\r\n<script>\r\n// import axios from \"axios\";\r\n\r\nexport default {\r\n  data: () => ({ file: null, fileName: \"\" }),\r\n\r\n  props: {\r\n    afterSubmit: {\r\n      type: Function,\r\n      default: () => {}\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    handleCSVChange() {\r\n      this.fileName = this.$refs.inputCSV.files[0].name;\r\n      this.file = this.$refs.inputCSV.files[0];\r\n    },\r\n\r\n    submitFile() {\r\n      const formData = new FormData();\r\n\r\n      formData.append(\"file\", this.file);\r\n\r\n      const headers = {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n        Authorization: `Bearer ${localStorage.getItem(\"userToken\")}`,\r\n      };\r\n\r\n      // axios\r\n      //   .post(\"http://localhost:8081/api/csv/upload\", formData, { headers })\r\n      //   .then((res) => {\r\n      //     res.data.files;\r\n      //     res.status;\r\n\r\n      //     if (res.status === 200) {\r\n      //       alert(`O arquivo ${this.fileName} foi enviado com sucesso`);\r\n      //       this.afterSubmit();\r\n      //     } else {\r\n      //       alert(`Deu erro`);\r\n      //     }\r\n      //   });\r\n    },\r\n  },\r\n};\r\n</script>"]},"metadata":{},"sourceType":"module"}